{"version":"NotebookV1","origId":3593664856730739,"name":"03a_create_model_deployment_job","language":"python","commands":[{"version":"CommandV1","origId":7527404965470021,"guid":"cb0ead18-dbf6-4f05-bd0a-4ef9de489874","subtype":"command","commandType":"auto","position":6.0,"command":"print(\"Use the job name \"+job_name+\" to connect the deployment job to the UC Model \"+model_name+\" as indicated in the Unity Catalog Model.\")\nprint(\"\\n For your reference, the job ID is \"+str(job_id))","commandVersion":28,"state":"finished","results":{"type":"listResults","data":[{"type":"ansi","data":"Use the job name DBDemos-Model-Deployment-Job to connect the deployment job to the UC Model sai_datastorage.default.advanced_mlops_churn as indicated in the Unity Catalog Model.\n\n For your reference, the job ID is 694084428847279\n","name":"stdout","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{}}],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":1761080070092,"submitTime":1761080070073,"finishTime":1761080070170,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{"rowLimit":10000,"byteLimit":2048000},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[["ansi",230]],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"bbacfc3a-4022-46f5-8934-b653a45a5e3e"},{"version":"CommandV1","origId":7527404965470013,"guid":"195aeffb-dc8e-4d37-b552-9a654ca218bb","subtype":"command","commandType":"auto","position":1.0,"command":"%pip install -q mlflow --upgrade\n%restart_python","commandVersion":4,"state":"finished","results":{"type":"listResults","data":[{"type":"ansi","data":"\u001B[43mNote: you may need to restart the kernel using %restart_python or dbutils.library.restartPython() to use updated packages.\u001B[0m\n","name":"stdout","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{}}],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":1761075899108,"submitTime":1761075899023,"finishTime":1761075941382,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{"rowLimit":10000,"byteLimit":2048000},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[["ansi",132]],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"e6ae38fc-d7be-4ea2-807d-9b448077f693"},{"version":"CommandV1","origId":7527404965470018,"guid":"215119e7-6286-43c2-a13d-a0417b4fd73d","subtype":"command","commandType":"auto","position":3.5,"command":"%md\n# Create lakeflow job\n\nadding smoke_test flag=True for now for not deploying/serving the model for now.","commandVersion":9,"state":"input","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"736e4fed-14da-41da-9665-7c6b7b00fd53"},{"version":"CommandV1","origId":7527404965470020,"guid":"42946d0f-42fd-4501-b934-6c4a1ccb8bc8","subtype":"command","commandType":"auto","position":4.5,"command":"current_user = spark.sql(\"SELECT current_user()\").collect()[0][0]","commandVersion":6,"state":"finished","results":{"type":"listResults","data":[],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":1761079669896,"submitTime":1761079669877,"finishTime":1761079670298,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{"rowLimit":10000,"byteLimit":2048000},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"c021479a-2879-405d-857f-6d84abadd3ce"},{"version":"CommandV1","origId":7527404965470015,"guid":"9860def9-c95f-408a-b5f0-7d389c9c8d04","subtype":"command","commandType":"auto","position":2.0,"command":"import os\ncurrent_directory = os.getcwd()\nprint(current_directory)","commandVersion":6,"state":"finished","results":{"type":"listResults","data":[{"type":"ansi","data":"/Workspace/Repos/MLOps Project/MLOps-end-to-end-advanced\n","name":"stdout","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{}}],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":1761075952305,"submitTime":1761075952278,"finishTime":1761075952484,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{"rowLimit":10000,"byteLimit":2048000},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[["ansi",57]],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"8cd91d06-7af4-4d8f-9ef0-62d16f201df1"},{"version":"CommandV1","origId":7527404965470023,"guid":"13032be3-e32f-408a-99b6-34e192f23e21","subtype":"command","commandType":"auto","position":8.0,"command":"import mlflow\nfrom mlflow.tracking.client import MlflowClient\n\n\nclient = MlflowClient(registry_uri=\"databricks-uc\")\n\ntry:\n  model_info = client.get_registered_model(model_name)\n  if model_info:\n    # Model exists - Link job\n    if model_info.deployment_job_id == job_id:\n      print(\"Model exists with existing job - Pass\")\n      pass\n\n    else:\n      print(\"Model exists - Updating job\")\n      client.update_registered_model(model_name, deployment_job_id=\"\") # Unlink current job\n      client.update_registered_model(model_name, deployment_job_id=job_id) # Link new one\n\nexcept mlflow.exceptions.RestException as e:\n  if \"PERMISSION_DENIED\" in str(e):\n        print(f\"Permission denied on model `{model_name}` - Deployment Job NOT UPDATED.\")\n        # Optionally, handle or re-raise\n        pass\n\n  else:\n    # Create Empty Model placeholder and Link job\n    print(\"Model does not exist - Creating model and linking job\")\n    client.create_registered_model(model_name, deployment_job_id=job_id)","commandVersion":119,"state":"finished","results":{"type":"listResults","data":[{"type":"ansi","data":"Model exists - Updating job\n","name":"stdout","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{}},{"type":"ansi","data":"\uD83D\uDD17 Linked deployment job to 'sai_datastorage.default.advanced_mlops_churn': https://dbc-9e9bd2bc-9b41.cloud.databricks.com/jobs/694084428847279?o=2937389557412779\n","name":"stderr","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{}}],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":{"type":"baseError","stackFrames":["\u001B[0;31m---------------------------------------------------------------------------\u001B[0m","\u001B[0;31mImportError\u001B[0m                               Traceback (most recent call last)","File \u001B[0;32m<command-7527404965470023>, line 2\u001B[0m\n\u001B[1;32m      1\u001B[0m \u001B[38;5;28;01mimport\u001B[39;00m \u001B[38;5;21;01mmlflow\u001B[39;00m\n\u001B[0;32m----> 2\u001B[0m \u001B[38;5;28;01mfrom\u001B[39;00m \u001B[38;5;21;01mmlflow\u001B[39;00m\u001B[38;5;21;01m.\u001B[39;00m\u001B[38;5;21;01mtracing\u001B[39;00m\u001B[38;5;21;01m.\u001B[39;00m\u001B[38;5;21;01mclient\u001B[39;00m \u001B[38;5;28;01mimport\u001B[39;00m MlflowClient\n","\u001B[0;31mImportError\u001B[0m: cannot import name 'MlflowClient' from 'mlflow.tracing.client' (/local_disk0/.ephemeral_nfs/envs/pythonEnv-fac4df92-a99b-4b7a-b1f9-98d89e80129e/lib/python3.12/site-packages/mlflow/tracing/client.py)"],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{},"jupyterProps":{"ename":"ImportError","evalue":"cannot import name 'MlflowClient' from 'mlflow.tracing.client' (/local_disk0/.ephemeral_nfs/envs/pythonEnv-fac4df92-a99b-4b7a-b1f9-98d89e80129e/lib/python3.12/site-packages/mlflow/tracing/client.py)"},"sqlProps":{"sqlState":"KD00G","errorClass":"NOTEBOOK_USER_ERROR","stackTrace":null,"startIndex":null,"stopIndex":null,"pysparkCallSite":null,"pysparkFragment":null,"pysparkSummary":null,"breakingChangeInfo":null}},"workflows":[],"startTime":1761081374579,"submitTime":1761081374555,"finishTime":1761081376730,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":true,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{"rowLimit":10000,"byteLimit":2048000},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[["ansi",28],["ansi",163]],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"5abcedd2-abbe-4263-8eac-8ecf0f130205"},{"version":"CommandV1","origId":7527404965470016,"guid":"308d7340-63aa-4c18-91e3-2922b2d4efdb","subtype":"command","commandType":"auto","position":3.0,"command":"model_name = \"sai_datastorage.default.advanced_mlops_churn\"\nmodel_version = '1'\njob_name = \"DBDemos-Model-Deployment-Job\"\n\n# Create Notebooks for each tasks\nevaluation_notebook_path = f\"{current_directory}/04a_challenger_validation\"\napproval_notebook_path = f\"{current_directory}/04b_challenger_approval\"\ndeployment_notebook_path = f\"{current_directory}/06_serve_features_and_model\"","commandVersion":38,"state":"finished","results":{"type":"listResults","data":[],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":1761076199457,"submitTime":1761076199413,"finishTime":1761076199619,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{"rowLimit":10000,"byteLimit":2048000},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"7d4f2f57-7cba-4471-9bca-32f28dce20a8"},{"version":"CommandV1","origId":7527404965470019,"guid":"210ebe28-54d6-4b24-9a95-1987849a322f","subtype":"command","commandType":"auto","position":5.0,"command":"from databricks.sdk import WorkspaceClient\n\nw=WorkspaceClient()\n\n# Search for the job by name in case if exists\nexisting_jobs = w.jobs.list(name=job_name)\njob_id=None\nfor created_job in existing_jobs:\n    if created_job.settings.name==job_name and created_job.creator_user_name==current_user:\n        job_id=created_job.job_id\n        break\n\nif job_id:\n    print(\"Update existing......\")\n    w.jobs.update(job_id=job_id, new_settings=job_settings)\nelse:\n    print(\"Create new job......\")\n    created_job = w.jobs.create(**job_settings.__dict__)\n    job_id=created_job.job_id\n\nprint(f\"Job ID: {job_id}\")","commandVersion":72,"state":"finished","results":{"type":"listResults","data":[{"type":"ansi","data":"Update existing......\nJob ID: 694084428847279\n","name":"stdout","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{}}],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":{"type":"baseError","stackFrames":["\u001B[0;31m---------------------------------------------------------------------------\u001B[0m","\u001B[0;31mNameError\u001B[0m                                 Traceback (most recent call last)","File \u001B[0;32m<command-7527404965470019>, line 9\u001B[0m\n\u001B[1;32m      7\u001B[0m job_id\u001B[38;5;241m=\u001B[39m\u001B[38;5;28;01mNone\u001B[39;00m\n\u001B[1;32m      8\u001B[0m \u001B[38;5;28;01mfor\u001B[39;00m created_job \u001B[38;5;129;01min\u001B[39;00m existing_jobs:\n\u001B[0;32m----> 9\u001B[0m     \u001B[38;5;28;01mif\u001B[39;00m created_job\u001B[38;5;241m.\u001B[39msettings\u001B[38;5;241m.\u001B[39mname\u001B[38;5;241m==\u001B[39mjob_name \u001B[38;5;129;01mand\u001B[39;00m created_job\u001B[38;5;241m.\u001B[39mcreator_user_name\u001B[38;5;241m==\u001B[39mcurrent_user:\n\u001B[1;32m     10\u001B[0m         job_id\u001B[38;5;241m=\u001B[39mcreated_job\u001B[38;5;241m.\u001B[39mjob_id\n\u001B[1;32m     11\u001B[0m         \u001B[38;5;28;01mbreak\u001B[39;00m\n","\u001B[0;31mNameError\u001B[0m: name 'current_user' is not defined"],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{},"jupyterProps":{"ename":"NameError","evalue":"name 'current_user' is not defined"},"sqlProps":{"sqlState":"KD00G","errorClass":"NOTEBOOK_USER_ERROR","stackTrace":null,"startIndex":null,"stopIndex":null,"pysparkCallSite":null,"pysparkFragment":null,"pysparkSummary":null,"breakingChangeInfo":null}},"workflows":[],"startTime":1761080016614,"submitTime":1761080016587,"finishTime":1761080017124,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{"rowLimit":10000,"byteLimit":2048000},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[["ansi",46]],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"f742c7b8-178a-4a63-8015-98f898e1a90f"},{"version":"CommandV1","origId":7527404965470017,"guid":"e4e13968-4f1b-482f-a2aa-9ce99ab9defa","subtype":"command","commandType":"auto","position":4.0,"command":"from databricks.sdk.service import jobs\n\njob_settings = jobs.JobSettings(\n    name=job_name,\n    tasks=[\n        jobs.Task(\n            task_key=\"Evaluation\",\n            notebook_task=jobs.NotebookTask(notebook_path=evaluation_notebook_path),\n            max_retries=0\n        ),\n        jobs.Task(\n            task_key=\"Approval_Check\",\n            notebook_task=jobs.NotebookTask(notebook_path=approval_notebook_path, base_parameters={'approval_tag_name':\"{{task.name}}\"}),\n            depends_on=[jobs.TaskDependency(task_key=\"Evaluation\")],\n            max_retries=0\n        ),\n        jobs.Task(\n            task_key=\"Deployment\",\n            notebook_task=jobs.NotebookTask(notebook_path=deployment_notebook_path, base_parameters={\"smoke_test\": True}),\n            depends_on=[jobs.TaskDependency(task_key=\"Approval_Check\")],\n            max_retries=0\n        )\n    ],\n    parameters=[\n        jobs.JobParameter(name=\"model_name\", default=model_name),\n        jobs.JobParameter(name=\"model_version\", default=model_version),\n    ],\n    queue=jobs.QueueSettings(enabled=True),\n    max_concurrent_runs=1\n)","commandVersion":109,"state":"finished","results":{"type":"listResults","data":[],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{"isDbfsCommandResult":false}},"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":{"type":"baseError","stackFrames":["\u001B[0;36m  File \u001B[0;32m<command-7527404965470017>, line 26\u001B[0;36m\u001B[0m\n\u001B[0;31m    ]\u001B[0m\n\u001B[0m    ^\u001B[0m\n\u001B[0;31mSyntaxError\u001B[0m\u001B[0;31m:\u001B[0m invalid syntax\n"],"arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[],"metadata":{},"jupyterProps":{"ename":"SyntaxError","evalue":"invalid syntax (command-7527404965470017-1509797989, line 26)"},"sqlProps":null},"workflows":[],"startTime":1761079177242,"submitTime":1761079177222,"finishTime":1761079177352,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":true,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{"rowLimit":10000,"byteLimit":2048000},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"d264ff92-1e20-4424-b1a3-a9145f7ec78c"},{"version":"CommandV1","origId":7527404965470022,"guid":"64d2ac04-cf07-4961-a528-4eaa0dcc609b","subtype":"command","commandType":"auto","position":7.0,"command":"%md\n## Link Job to the UC model","commandVersion":3,"state":"input","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"baseErrorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"latestAssumeRoleInfo":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"tableResultSettingsMap":{},"nuid":"3e9e40f4-1bc3-4185-98ec-ffc5153fb80a"}],"dashboards":[],"guid":"da319887-ac02-4900-8790-c487aa241353","globalVars":{},"iPythonMetadata":null,"inputWidgets":{},"notebookMetadata":{"pythonIndentUnit":4},"reposExportFormat":"JUPYTER","environmentMetadata":{"client":"4","base_environment":""},"computePreferences":{"hardware":{"accelerator":null,"gpuPoolId":null,"memory":null}},"inputWidgetPreferences":null}